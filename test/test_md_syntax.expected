((paragraph "Syntax highlighting work!")
 (html
  "<pre><code><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'>\n</span><span class='ocaml-comment-block'> * Copyright (c) 2014 Leo White &lt;lpw25@cl.cam.ac.uk&gt;\n</span><span class='ocaml-comment-block'> *\n</span><span class='ocaml-comment-block'> * Permission to use, copy, modify, and distribute this software for any\n</span><span class='ocaml-comment-block'> * purpose with or without fee is hereby granted, provided that the above\n</span><span class='ocaml-comment-block'> * copyright notice and this permission notice appear in all copies.\n</span><span class='ocaml-comment-block'> *\n</span><span class='ocaml-comment-block'> * THE SOFTWARE IS PROVIDED </span><span class='ocaml-comment-block'>&quot;</span><span class='ocaml-comment-block'>AS IS</span><span class='ocaml-comment-block'>&quot;</span><span class='ocaml-comment-block'> AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n</span><span class='ocaml-comment-block'> * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n</span><span class='ocaml-comment-block'> * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n</span><span class='ocaml-comment-block'> * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n</span><span class='ocaml-comment-block'> * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n</span><span class='ocaml-comment-block'> * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n</span><span class='ocaml-comment-block'> * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n</span><span class='ocaml-comment-block'> </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>open</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Paths</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Locations</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>struct</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>uid</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> {\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>source_parent</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Identifier</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>Module</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>        </span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> Correspond to where the source code is stored. Might be different from the root component of the identifier inside expansions. </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>impl</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-source'>uid</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>        </span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> Location of the definition in the implementation file. </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>intf</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Location_</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>span</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>        </span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> Location of the declaration in the interface file. </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Source_code</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>struct</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Info</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>struct</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>jmp_to_def</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Occurence</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Locations</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>uid</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Def</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>syntax</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'> type syntax = </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'>   | Keyword </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'>   | Keyword_other </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'>   | Comment </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'>   | Language_constant </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'>   | Numeric_constant </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'>   | Boolean_constant </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'>   | Docstring </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'>   | String_constant </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'>   | Alert </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>info</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Syntax</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-source'>syntax</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Line</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>int</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Local_jmp</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-source'>jmp_to_def</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-storage-type'>'a</span><span class='ocaml-source'> </span><span class='ocaml-source'>with_pos</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-storage-type'>'a</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>*</span><span class='ocaml-source'> </span><span class='ocaml-source'>(</span><span class='ocaml-support-type'>int</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>*</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>int</span><span class='ocaml-source'>)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>infos</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-source'>info</span><span class='ocaml-source'> </span><span class='ocaml-source'>with_pos</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> {\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>parent</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Identifier</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>Module</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>intf_source</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>impl_source</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>impl_info</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Info</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>infos</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Modules} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>rec</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Module</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type decl =\n</span><span class='ocaml-source'>    | Alias of (Path.Module.t * ModuleType.named_expansion option)\n</span><span class='ocaml-source'>    | ModuleType of ModuleType.expr\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    id : Identifier.Module.t;\n</span><span class='ocaml-source'>    locs : Locations.t option;\n</span><span class='ocaml-source'>        (** Locations might not be set when the module is artificially constructed from a functor argument. *)\n</span><span class='ocaml-source'>    doc : Comment.docs;\n</span><span class='ocaml-source'>    type_ : decl;\n</span><span class='ocaml-source'>    canonical : Path.Module.t option;\n</span><span class='ocaml-source'>    hidden : bool;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  module Equation : sig\n</span><span class='ocaml-source'>    type t = decl\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Module</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>FunctorParameter</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type parameter = {\n</span><span class='ocaml-source'>    id : Identifier.FunctorParameter.t;\n</span><span class='ocaml-source'>    expr : ModuleType.expr;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = Unit | Named of parameter\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>FunctorParameter</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Modules Types} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>ModuleType</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type substitution =\n</span><span class='ocaml-source'>    | ModuleEq of Fragment.Module.t * Module.Equation.t\n</span><span class='ocaml-source'>    | ModuleTypeEq of Fragment.ModuleType.t * ModuleType.expr\n</span><span class='ocaml-source'>    | TypeEq of Fragment.Type.t * TypeDecl.Equation.t\n</span><span class='ocaml-source'>    | ModuleSubst of Fragment.Module.t * Path.Module.t\n</span><span class='ocaml-source'>    | ModuleTypeSubst of Fragment.ModuleType.t * ModuleType.expr\n</span><span class='ocaml-source'>    | TypeSubst of Fragment.Type.t * TypeDecl.Equation.t\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type type_of_desc =\n</span><span class='ocaml-source'>    | ModPath of Path.Module.t\n</span><span class='ocaml-source'>    | StructInclude of Path.Module.t\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type simple_expansion =\n</span><span class='ocaml-source'>    | Signature of Signature.t\n</span><span class='ocaml-source'>    | Functor of FunctorParameter.t * simple_expansion\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type named_expansion = {\n</span><span class='ocaml-source'>    e_id : Identifier.Path.Module.t;\n</span><span class='ocaml-source'>    e_expansion : simple_expansion;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type typeof_t = {\n</span><span class='ocaml-source'>    t_desc : type_of_desc;\n</span><span class='ocaml-source'>    t_expansion : simple_expansion option;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  module U : sig\n</span><span class='ocaml-source'>    type expr =\n</span><span class='ocaml-source'>      | Path of Path.ModuleType.t\n</span><span class='ocaml-source'>      | Signature of Signature.t\n</span><span class='ocaml-source'>      | With of substitution list * expr\n</span><span class='ocaml-source'>      | TypeOf of typeof_t\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    (* Nb. this may have an expansion! *)\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>path_t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> {\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>p_expansion</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-source'>simple_expansion</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>p_path</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Path</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>ModuleType</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>with_t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> {\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>w_substitutions</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-source'>substitution</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>w_expansion</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-source'>simple_expansion</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>w_expr</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>U</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>expr</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>expr</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Path</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-source'>path_t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Signature</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Signature</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Functor</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>FunctorParameter</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>*</span><span class='ocaml-source'> </span><span class='ocaml-source'>expr</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>With</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-source'>with_t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>TypeOf</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-source'>typeof_t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> {\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>id</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Identifier</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>ModuleType</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>locs</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Locations</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>        </span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> Can be [None] for module types created by a type substitution. </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>doc</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Comment</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>docs</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>canonical</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Path</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>ModuleType</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>expr</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-source'>expr</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>ModuleType</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>ModuleSubstitution</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    id : Identifier.Module.t;\n</span><span class='ocaml-source'>    doc : Comment.docs;\n</span><span class='ocaml-source'>    manifest : Path.Module.t;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>ModuleSubstitution</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>ModuleTypeSubstitution</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    id : Identifier.ModuleType.t;\n</span><span class='ocaml-source'>    doc : Comment.docs;\n</span><span class='ocaml-source'>    manifest : ModuleType.expr;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>ModuleTypeSubstitution</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Signatures} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Signature</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type recursive = Ordinary | And | Nonrec | Rec\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type item =\n</span><span class='ocaml-source'>    | Module of recursive * Module.t\n</span><span class='ocaml-source'>    | ModuleType of ModuleType.t\n</span><span class='ocaml-source'>    | ModuleSubstitution of ModuleSubstitution.t\n</span><span class='ocaml-source'>    | ModuleTypeSubstitution of ModuleTypeSubstitution.t\n</span><span class='ocaml-source'>    | Open of Open.t\n</span><span class='ocaml-source'>    | Type of recursive * TypeDecl.t\n</span><span class='ocaml-source'>    | TypeSubstitution of TypeDecl.t\n</span><span class='ocaml-source'>    | TypExt of Extension.t\n</span><span class='ocaml-source'>    | Exception of Exception.t\n</span><span class='ocaml-source'>    | Value of Value.t\n</span><span class='ocaml-source'>    | Class of recursive * Class.t\n</span><span class='ocaml-source'>    | ClassType of recursive * ClassType.t\n</span><span class='ocaml-source'>    | Include of Include.t\n</span><span class='ocaml-source'>    | Comment of Comment.docs_or_stop\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    items : item list;\n</span><span class='ocaml-source'>    compiled : bool;\n</span><span class='ocaml-source'>    doc : Comment.docs;  (** The top comment. *)\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Signature</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Open</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = { expansion : Signature.t; doc : Comment.docs }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Open</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Includes} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Include</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type shadowed = {\n</span><span class='ocaml-source'>    s_modules : string list;\n</span><span class='ocaml-source'>    s_module_types : string list;\n</span><span class='ocaml-source'>    s_values : string list;\n</span><span class='ocaml-source'>    s_types : string list;\n</span><span class='ocaml-source'>    s_classes : string list;\n</span><span class='ocaml-source'>    s_class_types : string list;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type expansion = { shadowed : shadowed; content : Signature.t }\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  (* Explicitly unexpanded decl *)\n</span><span class='ocaml-source'>  type decl = Alias of Path.Module.t | ModuleType of ModuleType.U.expr\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    loc : Location_.span;\n</span><span class='ocaml-source'>    parent : Identifier.Signature.t;\n</span><span class='ocaml-source'>    strengthened : Path.Module.t option;\n</span><span class='ocaml-source'>    doc : Comment.docs;\n</span><span class='ocaml-source'>    status : [ `Inline | `Closed | `Open | `Default ];\n</span><span class='ocaml-source'>    decl : decl;\n</span><span class='ocaml-source'>    expansion : expansion;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Include</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Type Declarations} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>TypeDecl</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  module Field : sig\n</span><span class='ocaml-source'>    type t = {\n</span><span class='ocaml-source'>      id : Identifier.Field.t;\n</span><span class='ocaml-source'>      doc : Comment.docs;\n</span><span class='ocaml-source'>      mutable_ : bool;\n</span><span class='ocaml-source'>      type_ : TypeExpr.t;\n</span><span class='ocaml-source'>    }\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Constructor</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type argument = Tuple of TypeExpr.t list | Record of Field.t list\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type t = {\n</span><span class='ocaml-source'>      id : Identifier.Constructor.t;\n</span><span class='ocaml-source'>      doc : Comment.docs;\n</span><span class='ocaml-source'>      args : argument;\n</span><span class='ocaml-source'>      res : TypeExpr.t option;\n</span><span class='ocaml-source'>    }\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Representation</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type t =\n</span><span class='ocaml-source'>      | Variant of Constructor.t list\n</span><span class='ocaml-source'>      | Record of Field.t list\n</span><span class='ocaml-source'>      | Extensible\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>variance</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Pos</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Neg</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>param_desc</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Any</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Var</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>param</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> {\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>desc</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-source'>param_desc</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>variance</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-source'>variance</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>injectivity</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>bool</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Equation</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type t = {\n</span><span class='ocaml-source'>      params : param list;\n</span><span class='ocaml-source'>      private_ : bool;\n</span><span class='ocaml-source'>      manifest : TypeExpr.t option;\n</span><span class='ocaml-source'>      constraints : (TypeExpr.t * TypeExpr.t) list;\n</span><span class='ocaml-source'>    }\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> {\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>id</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Identifier</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>Type</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>locs</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Locations</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>doc</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Comment</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>docs</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>canonical</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Path</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>Type</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>equation</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Equation</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>representation</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Representation</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>TypeDecl</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Type extensions} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Extension</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  module Constructor : sig\n</span><span class='ocaml-source'>    type t = {\n</span><span class='ocaml-source'>      id : Identifier.Extension.t;\n</span><span class='ocaml-source'>      locs : Locations.t;\n</span><span class='ocaml-source'>      doc : Comment.docs;\n</span><span class='ocaml-source'>      args : TypeDecl.Constructor.argument;\n</span><span class='ocaml-source'>      res : TypeExpr.t option;\n</span><span class='ocaml-source'>    }\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> {\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>parent</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Identifier</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>Signature</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>type_path</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Path</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>Type</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>doc</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Comment</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>docs</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>type_params</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>TypeDecl</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>param</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>private_</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>bool</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>constructors</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Constructor</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Extension</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Exception} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Exception</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    id : Identifier.Exception.t;\n</span><span class='ocaml-source'>    locs : Locations.t;\n</span><span class='ocaml-source'>    doc : Comment.docs;\n</span><span class='ocaml-source'>    args : TypeDecl.Constructor.argument;\n</span><span class='ocaml-source'>    res : TypeExpr.t option;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Exception</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Values} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Value</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type value = Abstract | External of string list\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    id : Identifier.Value.t;\n</span><span class='ocaml-source'>    locs : Locations.t;\n</span><span class='ocaml-source'>    value : value;\n</span><span class='ocaml-source'>    doc : Comment.docs;\n</span><span class='ocaml-source'>    type_ : TypeExpr.t;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Value</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Classes} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Class</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type decl =\n</span><span class='ocaml-source'>    | ClassType of ClassType.expr\n</span><span class='ocaml-source'>    | Arrow of TypeExpr.label option * TypeExpr.t * decl\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    id : Identifier.Class.t;\n</span><span class='ocaml-source'>    locs : Locations.t;\n</span><span class='ocaml-source'>    doc : Comment.docs;\n</span><span class='ocaml-source'>    virtual_ : bool;\n</span><span class='ocaml-source'>    params : TypeDecl.param list;\n</span><span class='ocaml-source'>    type_ : decl;\n</span><span class='ocaml-source'>    expansion : ClassSignature.t option;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Class</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Class Types} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>ClassType</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type expr =\n</span><span class='ocaml-source'>    | Constr of Path.ClassType.t * TypeExpr.t list\n</span><span class='ocaml-source'>    | Signature of ClassSignature.t\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    id : Identifier.ClassType.t;\n</span><span class='ocaml-source'>    locs : Locations.t;\n</span><span class='ocaml-source'>    doc : Comment.docs;\n</span><span class='ocaml-source'>    virtual_ : bool;\n</span><span class='ocaml-source'>    params : TypeDecl.param list;\n</span><span class='ocaml-source'>    expr : expr;\n</span><span class='ocaml-source'>    expansion : ClassSignature.t option;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>ClassType</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Class Signatures} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>ClassSignature</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  module Constraint : sig\n</span><span class='ocaml-source'>    type t = { left : TypeExpr.t; right : TypeExpr.t; doc : Comment.docs }\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Inherit</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type t = { expr : ClassType.expr; doc : Comment.docs }\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>item</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Method</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Method</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>InstanceVariable</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>InstanceVariable</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Constraint</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Constraint</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Inherit</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Inherit</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Comment</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Comment</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>docs_or_stop</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> { </span><span class='ocaml-source'>self</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>TypeExpr</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'> </span><span class='ocaml-source'>items</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-source'>item</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'> </span><span class='ocaml-source'>doc</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Comment</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>docs</span><span class='ocaml-source'> }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>ClassSignature</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Methods} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Method</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    id : Identifier.Method.t;\n</span><span class='ocaml-source'>    doc : Comment.docs;\n</span><span class='ocaml-source'>    private_ : bool;\n</span><span class='ocaml-source'>    virtual_ : bool;\n</span><span class='ocaml-source'>    type_ : TypeExpr.t;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Method</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Instance variables} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>InstanceVariable</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    id : Identifier.InstanceVariable.t;\n</span><span class='ocaml-source'>    doc : Comment.docs;\n</span><span class='ocaml-source'>    mutable_ : bool;\n</span><span class='ocaml-source'>    virtual_ : bool;\n</span><span class='ocaml-source'>    type_ : TypeExpr.t;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>InstanceVariable</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Type expressions} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>and</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>TypeExpr</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  module Polymorphic_variant : sig\n</span><span class='ocaml-source'>    type kind = Fixed | Closed of string list | Open\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    module Constructor : sig\n</span><span class='ocaml-source'>      type t = {\n</span><span class='ocaml-source'>        name : string;\n</span><span class='ocaml-source'>        constant : bool;\n</span><span class='ocaml-source'>        arguments : TypeExpr.t list;\n</span><span class='ocaml-source'>        doc : Comment.docs;\n</span><span class='ocaml-source'>      }\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>element</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Type</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>TypeExpr</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Constructor</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Constructor</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> { </span><span class='ocaml-source'>kind</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-source'>kind</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'> </span><span class='ocaml-source'>elements</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-source'>element</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-source'> }\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Object</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type method_ = { name : string; type_ : TypeExpr.t }\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type field = Method of method_ | Inherit of TypeExpr.t\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type t = { fields : field list; open_ : bool }\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Package</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type substitution = Fragment.Type.t * TypeExpr.t\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type t = { path : Path.ModuleType.t; substitutions : substitution list }\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>label</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Label</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Optional</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Var</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Any</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Alias</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>*</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Arrow</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-source'>label</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>*</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>*</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Tuple</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Constr</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Path</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>Type</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>*</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Polymorphic_variant</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>TypeExpr</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>Polymorphic_variant</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Object</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>TypeExpr</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>Object</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Class</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Path</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>ClassType</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>*</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Poly</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>*</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Package</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>TypeExpr</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>Package</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>TypeExpr</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> {3 Compilation units} </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>rec</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Compilation_unit</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  module Import : sig\n</span><span class='ocaml-source'>    type t =\n</span><span class='ocaml-source'>      | Unresolved of string * Digest.t option\n</span><span class='ocaml-source'>      | Resolved of Root.t * Names.ModuleName.t\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Source</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type t = { file : string; build_dir : string; digest : Digest.t }\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Packed</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type item = { id : Identifier.Module.t; path : Path.Module.t }\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    type t = item list\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>content</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Module</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Signature</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Pack</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>of</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Packed</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> {\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>id</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Identifier</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>RootModule</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>root</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Root</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>digest</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Digest</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>imports</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Import</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>source</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Source</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>interface</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>bool</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>hidden</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>bool</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>content</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-source'>content</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>expansion</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Signature</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>linked</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>bool</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>  </span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> Whether this unit has been linked. </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>canonical</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Path</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>Module</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>    </span><span class='ocaml-source'>sources</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Source_code</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-source'>list</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Compilation_unit</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>rec</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Page</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  type t = {\n</span><span class='ocaml-source'>    name : Identifier.Page.t;\n</span><span class='ocaml-source'>    root : Root.t;\n</span><span class='ocaml-source'>    content : Comment.docs;\n</span><span class='ocaml-source'>    children : Reference.t list;\n</span><span class='ocaml-source'>    digest : Digest.t;\n</span><span class='ocaml-source'>    linked : bool;\n</span><span class='ocaml-source'>  }\n</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Page</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword'>let</span><span class='ocaml-source'> </span><span class='ocaml-entity-name-function-binding'>umty_of_mty</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>ModuleType</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>expr</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>-&gt;</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>ModuleType</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-constant-language-capital-identifier'>U</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>expr</span><span class='ocaml-source'> </span><span class='ocaml-source'>option</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>function</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Signature</span><span class='ocaml-source'> </span><span class='ocaml-source'>sg</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>-&gt;</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Some</span><span class='ocaml-source'> </span><span class='ocaml-source'>(</span><span class='ocaml-constant-language-capital-identifier'>Signature</span><span class='ocaml-source'> </span><span class='ocaml-source'>sg</span><span class='ocaml-source'>)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Path</span><span class='ocaml-source'> { </span><span class='ocaml-source'>p_path</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'> </span><span class='ocaml-constant-language'>_</span><span class='ocaml-source'> } </span><span class='ocaml-keyword-operator'>-&gt;</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Some</span><span class='ocaml-source'> </span><span class='ocaml-source'>(</span><span class='ocaml-constant-language-capital-identifier'>Path</span><span class='ocaml-source'> </span><span class='ocaml-source'>p_path</span><span class='ocaml-source'>)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Functor</span><span class='ocaml-source'> </span><span class='ocaml-constant-language'>_</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>-&gt;</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>None</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>TypeOf</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>-&gt;</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Some</span><span class='ocaml-source'> </span><span class='ocaml-source'>(</span><span class='ocaml-constant-language-capital-identifier'>TypeOf</span><span class='ocaml-source'> </span><span class='ocaml-source'>t</span><span class='ocaml-source'>)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>With</span><span class='ocaml-source'> { </span><span class='ocaml-source'>w_substitutions</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'> </span><span class='ocaml-source'>w_expr</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'> </span><span class='ocaml-constant-language'>_</span><span class='ocaml-source'> } </span><span class='ocaml-keyword-operator'>-&gt;</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Some</span><span class='ocaml-source'> </span><span class='ocaml-source'>(</span><span class='ocaml-constant-language-capital-identifier'>With</span><span class='ocaml-source'> </span><span class='ocaml-source'>(</span><span class='ocaml-source'>w_substitutions</span><span class='ocaml-keyword-other-ocaml punctuation-comma punctuation-separator'>,</span><span class='ocaml-source'> </span><span class='ocaml-source'>w_expr</span><span class='ocaml-source'>)</span><span class='ocaml-source'>)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-comment-doc'>(**</span><span class='ocaml-comment-doc'> Query the top-comment of a signature. This is [s.doc] most of the time with\n</span><span class='ocaml-comment-doc'>    an exception for signature starting with an inline includes. </span><span class='ocaml-comment-doc'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword'>let</span><span class='ocaml-source'> </span><span class='ocaml-entity-name-function-binding'>extract_signature_doc</span><span class='ocaml-source'> </span><span class='ocaml-source'>(</span><span class='ocaml-source'>s</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Signature</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>t</span><span class='ocaml-source'>)</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>match</span><span class='ocaml-source'> </span><span class='ocaml-source'>(</span><span class='ocaml-source'>s</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>doc</span><span class='ocaml-keyword-other-ocaml punctuation-comma punctuation-separator'>,</span><span class='ocaml-source'> </span><span class='ocaml-source'>s</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>items</span><span class='ocaml-source'>)</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>with</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-constant-language'>[]</span><span class='ocaml-keyword-other-ocaml punctuation-comma punctuation-separator'>,</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Include</span><span class='ocaml-source'> { </span><span class='ocaml-source'>expansion</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'> </span><span class='ocaml-source'>status</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-polymorphic-variant'>`Inline</span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'> </span><span class='ocaml-constant-language'>_</span><span class='ocaml-source'> } </span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-keyword-other-ocaml punctuation-other-colon punctuation'>:</span><span class='ocaml-source'> </span><span class='ocaml-constant-language'>_</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>-&gt;</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>      </span><span class='ocaml-comment-block'>(*</span><span class='ocaml-comment-block'> A signature that starts with an [@inline] include inherits the\n</span><span class='ocaml-comment-block'>         top-comment from the expansion. This comment is not rendered for\n</span><span class='ocaml-comment-block'>         [include] items. </span><span class='ocaml-comment-block'>*)</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>      </span><span class='ocaml-source'>expansion</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>content</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>doc</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other'>|</span><span class='ocaml-source'> </span><span class='ocaml-source'>doc</span><span class='ocaml-keyword-other-ocaml punctuation-comma punctuation-separator'>,</span><span class='ocaml-source'> </span><span class='ocaml-constant-language'>_</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>-&gt;</span><span class='ocaml-source'> </span><span class='ocaml-source'>doc</span><span class='ocaml-source'>\n</span></code></pre>"))
